<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
        <title>Hjem</title>

        <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->

        <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

        <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/angular_material/1.1.0/angular-material.min.css">

        <link rel="stylesheet" href="css/style.css">
        <!-- user-defined styles -->
    </head>

    <body>

    <div ng-app="MinVakt" ng-controller="MinVaktCtrl" layout="row" layout-fill ng-cloak>
        <md-sidenav class="md-sidenav-left md-whiteframe-z2" role="sidenav" md-component-id="left" md-is-locked-open="$mdMedia('gt-md')">
            <md-toolbar class="md-tall md-hue-2" layout-align="end end">
                <div class="md-toolbar-tools" layout layout-padding>
                    <md-icon>{{data.user.icon}}</md-icon>
                    <div layout="column" layout-padding>
                        <span class="md-body-2">{{currentuser.firstname}}</span>
                        <span class="md-caption">{{currentuser.email}}</span>
                    </div>
                    <span flex></span>
                    <md-button class="md-icon-button" aria-label="User Settings" ng-click="toast('Logout')" href="logout.jsp">
                        <md-icon>power_settings_new</md-icon>
                    </md-button>
                </div>
            </md-toolbar>
            <md-content role="navigation">
                <md-list ng-repeat="section in data.sidenav.sections">
                    <md-list-item ng-show="section.expand" ng-repeat="action in section.actions" ng-click="toast(action.link)">
                        <md-icon>{{action.icon}}</md-icon>
                        <p class="md-body-2">{{action.name}}</p>
                        <span flex></span>
                        <md-icon>chevron_right</md-icon>
                    </md-list-item>

                </md-list>
            </md-content>
        </md-sidenav>
        <section layout="column" role="main" flex>
            <md-toolbar role="toolbar">
                <div class="md-toolbar-tools">
                    <md-button class="md-icon-button" ng-click="toggleSidenav('left')" hide-gt-md aria-label="Menu">
                        <md-icon>menu</md-icon>
                    </md-button>
                    <h4 class="md-title">{{data.title}}</h4>
                    <span flex></span>
                    <md-button class="md-icon-button" ng-repeat="button in data.toolbar.buttons" aria-label={{button.name}} ng-click="toast(button.link)">
                        <md-icon>{{button.icon}}</md-icon>
                    </md-button>
                    <md-menu md-position-mode="target-right target" ng-repeat="menu in data.toolbar.menus">
                        <md-button class="md-icon-button" aria-label="{{menu.name}}" ng-click="$mdOpenMenu($event)">
                            <md-icon>{{menu.icon}}</md-icon>
                        </md-button>
                        <md-menu-content width={{menu.width}}>
                            <md-subheader>{{menu.name}}</md-subheader>
                            <md-menu-item ng-repeat="action in menu.actions">
                                <md-button layout-fill md-ink-ripple ng-click="toast(action.message)">
                                    <md-icon md-class="{{action.error ? 'md-warn' : 'md-primary'}}" md-menu-align-target>{{action.completed ? 'done' : 'hourglass_empty'}}</md-icon>
                                    {{action.name}}
                                </md-button>
                            </md-menu-item>
                        </md-menu-content>
                    </md-menu>
                </div>
            </md-toolbar>
            <section id="content" role="content" layout="column" layout-padding md-scroll-y>
                <md-content class="md-whiteframe-z2" ng-cloak>
                    <md-list ng-repeat="list in data.content.lists">
                        <div class="md-actions" layout layout-align="end center">
                            <md-subheader class="md-no-sticky md-primary">{{list.name}}</md-subheader>
                            <span flex></span>
                            <md-menu md-position-mode="target-right target">
                                <md-button class="md-icon-button" aria-label="{{list.menu.name}}" ng-click="$mdOpenMenu($event)">
                                    <md-icon class="md-primary">settings</md-icon>
                                </md-button>
                                <md-menu-content width={{list.menu.width}}>
                                    <md-subheader>{{list.menu.name}}</md-subheader>
                                    <md-menu-item ng-repeat="action in list.menu.actions">
                                        <md-button layout-fill md-ink-ripple ng-click="toastList(action.message)">
                                            <md-icon md-class="{{action.error ? 'md-warn' : 'md-primary'}}" md-menu-align-target>{{action.completed ? 'done' : 'hourglass_empty'}}</md-icon>
                                            {{action.name}}
                                        </md-button>
                                    </md-menu-item>
                                </md-menu-content>
                            </md-menu>
                        </div>
                        <md-divider></md-divider>
                        <md-list-item class="md-2-line" ng-repeat="item in list.items">
                            <md-checkbox ng-click="toggle(item, selected)"></md-checkbox>
                            <md-content class="md-list-item-text" layout="column">
                                <h3 class="md-body-2">{{item.name}}</h3>
                                <p class="md-caption">{{item.description}}</p>
                            </md-content>
                            <span flex></span>
                            <md-icon aria-label="Show Item" ng-click="toast(item.link)">chevron_right</md-icon>
                        </md-list-item>
                    </md-list>
                </md-content>
            </section>
        </section>
    </div>

        <!-- AngularJS -->
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-animate.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-aria.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-messages.min.js"></script>

    <script src="http://ajax.googleapis.com/ajax/libs/angular_material/1.1.0/angular-material.min.js"></script>
    <script src="js/taskbar.js"></script>

    </body>
</html>